

<% source = current_page.data.source || "./" %>  
<% title = current_page.data.title || "_stylecoeur" %>

<!doctype html>
<html>
  <head>
    <title><%= title %></title>
    <%= partial '/partials/head' %>
  </head>
  <body class="_styleguide _loader">
    
    <%= partial '/partials/nav' %>

    <div class="_styleguide-container">

      <div class=" _grid-one-four">

        <aside>
          <%= partial '/partials/kb-indexer' %>
        </aside>

        <div class="_styleguide-content _width-content-max _grid_item-overflow _padding-2 _margin-center">
          <%= yield %>
        </div>
      </div>

    </div>

    <div class="_styleguide-footer">
    </div>
  </body>
</html>


<script src= <%= source + "javascripts/site.js" %> type="text/javascript"></script>

<script src= <%= source + "javascripts/scriptcoeur/smoothScroll.js" %> type="text/javascript"></script>

<script src= <%= source + "javascripts/scriptcoeur/sticky.js" %> type="text/javascript"></script>

<script>

// open and close sidebar
// ACCESSED BY INDEXER!
var isSidebarOpen = true,
    closedClass = '--sidebar-closed'
function closeSidebar() {
  console.log('close sidebar');
  isSidebarOpen = false;
  $('._styleguide-container').addClass(closedClass)
}
function openSidebar() {
  console.log('close sidebar');
  isSidebarOpen = true;
  $('._styleguide-container').removeClass(closedClass)
}
function toggleSidebar() {
  if(!isSidebarOpen) {
    openSidebar();
  } else {
    closeSidebar();
  }
}
$(document).keyup(function(e) {
  if (e.keyCode === 27) toggleSidebar();   // esc
});


$(document).ready(function() {
  if($("._sidebar-trigger").length > 0) {
    var triggerElement = "._sidebar-trigger", target = "._sidebar", targetClass = "--pinned";
    _sticky(triggerElement, target, targetClass, 0 );
  }
});

</script>


